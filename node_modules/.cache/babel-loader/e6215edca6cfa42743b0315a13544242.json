{"ast":null,"code":"import _classCallCheck from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/connectivity.component.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // Import React Table\n\nimport Select from \"react-select\";\nimport { Link } from \"react-router-dom\";\nimport \"react-table/react-table.css\";\nvar options = [{\n  value: 5,\n  label: \"5\"\n}, {\n  value: 10,\n  label: \"10\"\n}, {\n  value: 15,\n  label: \"15\"\n}];\n\nvar PageSize =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSize, _Component);\n\n  function PageSize(props) {\n    var _this;\n\n    _classCallCheck(this, PageSize);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageSize).call(this, props));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      value: 5\n    };\n    return _this;\n  }\n\n  _createClass(PageSize, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.props.onPageSizeChanged(e.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          //marginTop: -60 + \"px\",\n          marginRight: 10 + \"px\",\n          width: 70 + \"px\",\n          marginBottom: 10 + \"px\",\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: options[0],\n        value: this.props.value,\n        onChange: this.handleChange,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageSize;\n}(Component);\n\nvar GridPager =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(GridPager, _Component2);\n\n  function GridPager() {\n    _classCallCheck(this, GridPager);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GridPager).apply(this, arguments));\n  }\n\n  _createClass(GridPager, [{\n    key: \"render\",\n    value: function render() {\n      var li = [];\n      var pageCount = this.props.Size;\n\n      for (var i = 1; i <= pageCount; i++) {\n        if (this.props.currentPage === i) {\n          li.push(React.createElement(\"li\", {\n            className: \"active\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: \"page-link\",\n            href: \"#\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, i)));\n        } else {\n          li.push(React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: \"page-link\",\n            href: \"#\",\n            onClick: this.props.onPageChanged.bind(null, i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, i)));\n        }\n      }\n\n      return React.createElement(\"ul\", {\n        className: \"pagination\",\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, li);\n    }\n  }]);\n\n  return GridPager;\n}(Component);\n\nvar RecordGridRow =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(RecordGridRow, _Component3);\n\n  function RecordGridRow(props) {\n    var _this2;\n\n    _classCallCheck(this, RecordGridRow);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(RecordGridRow).call(this, props));\n    _this2.deleteRecord = _this2.deleteRecord.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(RecordGridRow, [{\n    key: \"deleteRecord\",\n    value: function deleteRecord() {\n      axios.get(\"http://localhost:4000/sensor/delete/\" + this.props.item._id).then(console.log(\"Deleted\")).catch(function (err) {\n        return console.log(err);\n      });\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.props.item.clusterId), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.props.item.smartNodeId), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.props.item.sensorNodeId), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.props.item.sensorType), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.props.item.sensorName), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.props.item.sensorValue), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/edit/\" + this.props.item._id,\n        className: \"btn btn-primary btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"button\", {\n        onClick: this.deleteRecord,\n        className: \"btn btn-danger btn-sm\",\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Delete\")));\n    }\n  }]);\n\n  return RecordGridRow;\n}(Component);\n/*config: {adapter: ƒ, transformRequest: {…}, transformResponse: {…}, timeout: 0, xsrfCookieName: \"XSRF-TOKEN\", …}\ndata: {docs: Array(3), total: 4, limit: 3, page: \"1\", pages: 2}\nheaders: {content-type: \"application/json; charset=utf-8\"}\nrequest: XMLHttpRequest {onreadystatechange: ƒ, readyState: 4, timeout: 0, withCredentials: false, upload: XMLHttpRequestUpload, …}\nstatus: 200*/\n\n\nvar Connectivity =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(Connectivity, _Component4);\n\n  function Connectivity(props) {\n    var _this3;\n\n    _classCallCheck(this, Connectivity);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Connectivity).call(this, props));\n    _this3.state = {\n      Data: {\n        docs: [],\n        pages: 0,\n        page: 1,\n        limit: 5\n      }\n    };\n    _this3.pageChanged = _this3.pageChanged.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.sizeChange = _this3.sizeChange.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    return _this3;\n  }\n\n  _createClass(Connectivity, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.populateData();\n    }\n  }, {\n    key: \"populateData\",\n    value: function populateData() {\n      var _this4 = this;\n\n      var params = {\n        limit: this.state.Data.limit,\n        page: this.state.Data.page\n      };\n      var pagination = \"?size=\" + params.limit + \"&page=\" + params.page;\n      axios.get(\"http://localhost:4000/sensor\" + pagination).then(function (response) {\n        console.log(response);\n\n        _this4.setState({\n          Data: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"pageChanged\",\n    value: function pageChanged(pageNumber, e) {\n      e.preventDefault();\n      var d = this.state.Data;\n      d.page = pageNumber;\n      this.setState({\n        Data: d\n      });\n      this.populateData();\n    }\n  }, {\n    key: \"sizeChange\",\n    value: function sizeChange(value) {\n      var d = this.state.Data;\n      d.limit = value;\n      this.setState({\n        Data: d\n      });\n      this.populateData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var rows = [];\n      this.state.Data.docs.forEach(function (item) {\n        rows.push(React.createElement(RecordGridRow, {\n          item: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }));\n      });\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"List Sensor Records\"), React.createElement(\"div\", {\n        className: \"table-responsive table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table\",\n        style: {\n          marginLeft: 20,\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Cluster Id\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Smart Node Id\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Server Connectivity Status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, rows))), React.createElement(PageSize, {\n        onPageSizeChanged: this.sizeChange,\n        limit: this.state.Data.limit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(GridPager, {\n        Size: this.state.Data.pages,\n        onPageChanged: this.pageChanged,\n        currentPage: this.state.Data.currentPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Connectivity;\n}(Component);\n\nexport { Connectivity as default };","map":{"version":3,"sources":["/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/connectivity.component.js"],"names":["React","Component","axios","Select","Link","options","value","label","PageSize","props","handleChange","bind","state","e","onPageSizeChanged","marginRight","width","marginBottom","float","GridPager","li","pageCount","Size","i","currentPage","push","onPageChanged","marginLeft","RecordGridRow","deleteRecord","get","item","_id","then","console","log","catch","err","window","location","reload","clusterId","smartNodeId","sensorNodeId","sensorType","sensorName","sensorValue","Connectivity","Data","docs","pages","page","limit","pageChanged","sizeChange","populateData","params","pagination","response","setState","data","error","pageNumber","preventDefault","d","rows","forEach","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n// Import React Table\nimport Select from \"react-select\";\nimport { Link } from \"react-router-dom\";\nimport \"react-table/react-table.css\";\n\nconst options = [\n    { value: 5, label: \"5\" },\n    { value: 10, label: \"10\" },\n    { value: 15, label: \"15\" }\n];\n\nclass PageSize extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.state = { value: 5 };\n    }\n    handleChange(e) {\n        this.props.onPageSizeChanged(e.value);\n    }\n    render() {\n        return (\n            <div\n                style={{\n                    //marginTop: -60 + \"px\",\n                    marginRight: 10 + \"px\",\n                    width: 70 + \"px\",\n                    marginBottom: 10 + \"px\",\n                    float: \"right\"\n                }}\n            >\n                <Select\n                    defaultValue={options[0]}\n                    value={this.props.value}\n                    onChange={this.handleChange}\n                    options={options}\n                />\n            </div>\n        );\n    }\n}\nclass GridPager extends Component {\n    render() {\n        var li = [];\n        var pageCount = this.props.Size;\n        for (var i = 1; i <= pageCount; i++) {\n            if (this.props.currentPage === i) {\n                li.push(\n                    <li className=\"active\">\n                        <a className=\"page-link\" href=\"#\">\n                            {i}\n                        </a>\n                    </li>\n                );\n            } else {\n                li.push(\n                    <li>\n                        <a\n                            className=\"page-link\"\n                            href=\"#\"\n                            onClick={this.props.onPageChanged.bind(null, i)}\n                        >\n                            {i}\n                        </a>\n                    </li>\n                );\n            }\n        }\n        return (\n            <ul className=\"pagination\" style={{ marginLeft: 20 }}>\n                {li}\n            </ul>\n        );\n    }\n}\nclass RecordGridRow extends Component {\n    constructor(props) {\n        super(props);\n        this.deleteRecord = this.deleteRecord.bind(this);\n    }\n\n    deleteRecord() {\n        axios\n            .get(\"http://localhost:4000/sensor/delete/\" + this.props.item._id)\n            .then(console.log(\"Deleted\"))\n            .catch(err => console.log(err));\n        window.location.reload();\n    }\n    render() {\n        return (\n            <tr>\n                <td>{this.props.item.clusterId}</td>\n                <td>{this.props.item.smartNodeId}</td>\n                <td>{this.props.item.sensorNodeId}</td>\n                <td>{this.props.item.sensorType}</td>\n                <td>{this.props.item.sensorName}</td>\n                <td>{this.props.item.sensorValue}</td>\n                <td>\n                    <Link\n                        to={\"/edit/\" + this.props.item._id}\n                        className=\"btn btn-primary btn-sm\"\n                    >\n                        Edit\n                    </Link>\n                    <button\n                        onClick={this.deleteRecord}\n                        className=\"btn btn-danger btn-sm\"\n                        style={{ marginLeft: 20 }}\n                    >\n                        Delete\n                    </button>\n                </td>\n            </tr>\n        );\n    }\n}\n\n/*config: {adapter: ƒ, transformRequest: {…}, transformResponse: {…}, timeout: 0, xsrfCookieName: \"XSRF-TOKEN\", …}\ndata: {docs: Array(3), total: 4, limit: 3, page: \"1\", pages: 2}\nheaders: {content-type: \"application/json; charset=utf-8\"}\nrequest: XMLHttpRequest {onreadystatechange: ƒ, readyState: 4, timeout: 0, withCredentials: false, upload: XMLHttpRequestUpload, …}\nstatus: 200*/\nexport default class Connectivity extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            Data: {\n                docs: [],\n                pages: 0,\n                page: 1,\n                limit: 5\n            }\n        };\n        this.pageChanged = this.pageChanged.bind(this);\n        this.sizeChange = this.sizeChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.populateData();\n    }\n\n    populateData() {\n        var params = {\n            limit: this.state.Data.limit,\n            page: this.state.Data.page\n        };\n\n        var pagination = \"?size=\" + params.limit + \"&page=\" + params.page;\n        axios\n            .get(\"http://localhost:4000/sensor\" + pagination)\n            .then(response => {\n                console.log(response);\n                this.setState({ Data: response.data });\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n    }\n\n    pageChanged(pageNumber, e) {\n        e.preventDefault();\n        var d = this.state.Data;\n        d.page = pageNumber;\n        this.setState({\n            Data: d\n        });\n        this.populateData();\n    }\n\n    sizeChange(value) {\n        var d = this.state.Data;\n        d.limit = value;\n        this.setState({\n            Data: d\n        });\n        this.populateData();\n    }\n\n    render() {\n        var rows = [];\n        this.state.Data.docs.forEach(function(item) {\n            rows.push(<RecordGridRow item={item} />);\n        });\n        return (\n            <div style={{ marginTop: 10 }}>\n                <h3 align=\"center\">List Sensor Records</h3>\n                <div className=\"table-responsive table-striped\">\n                    <table className=\"table\" style={{ marginLeft: 20, marginTop: 20 }}>\n                        <thead className=\"thead-dark\">\n                        <tr>\n                            <th>Cluster Id</th>\n                            <th>Smart Node Id</th>\n                            <th>Server Connectivity Status</th>\n                        </tr>\n                        </thead>\n                        <tbody>{rows}</tbody>\n                    </table>\n                </div>\n                <PageSize\n                    onPageSizeChanged={this.sizeChange}\n                    limit={this.state.Data.limit}\n                />\n                <GridPager\n                    Size={this.state.Data.pages}\n                    onPageChanged={this.pageChanged}\n                    currentPage={this.state.Data.currentPage}\n                />\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}