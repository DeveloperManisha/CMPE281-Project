{"ast":null,"code":"import _classCallCheck from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport MapContainer from '../Maps/MapContainer';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.deletenode = function (id, e) {\n      //prevent page from refresh\n      e.preventDefault();\n      console.log(id); //make a post request with the user data\n\n      var url = 'http://localhost:3001/delete/';\n      var requesturl = url + id;\n      axios.delete(requesturl).then(function (response) {\n        console.log(\"Status Code : \", response.status); // console.log(\"Data: \" + response.data);\n        //  this.setState({\n        //      redirectVar : <Redirect to=\"/home\"/>\n        //  })          \n\n        window.location = \"/home\";\n      });\n    };\n\n    _this.state = {\n      nodes: [],\n      redirectVar: null\n    };\n    _this.deletenode = _this.deletenode.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } //get the nodes data from backend  \n\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:3001/home').then(function (response) {\n        //update the state with the response data\n        _this2.setState({\n          nodes: _this2.state.nodes.concat(response.data),\n          redirectVar: React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          })\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      //iterate over nodes to create a table row\n      var details = this.state.nodes.map(function (node) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, node.nodeid), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, node.node_status), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, node.lat), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, node.long), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, node.no_sensors), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, node.clusterid), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, node.installation_date), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/addsensor/\".concat(node.nodeid),\n          className: \"btn btn-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Add Sensors\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/sensorhome/\".concat(node.nodeid),\n          className: \"btn btn-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"View Sensor List\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/updatenode/\".concat(node.nodeid),\n          className: \"btn btn-warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Update Smart Node\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: _this3.deletenode.bind(_this3, node.nodeid),\n          value: node.nodeid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Delete Node\")));\n      }); //if not logged in go to login page\n\n      var redirectVar = null; // if(!cookie.load('cookie')){\n      //     redirectVar = <Redirect to= \"/login\"/>\n      // }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.redirectVar, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Sensor Station Dashboard\")), React.createElement(\"div\", {\n        className: \"container map-container col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container table-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Node ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Node Status\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Latitude\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Longitude\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"No of Sensors\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Cluster ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Installed On\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, details))));\n    }\n  }]);\n\n  return Home;\n}(Component); //export Home Component\n\n\nexport default Home;","map":{"version":3,"sources":["/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/Home/Home.js"],"names":["React","Component","axios","cookie","Redirect","Link","MapContainer","Home","props","deletenode","id","e","preventDefault","console","log","url","requesturl","delete","then","response","status","window","location","state","nodes","redirectVar","bind","get","setState","concat","data","details","map","node","nodeid","node_status","lat","long","no_sensors","clusterid","installation_date"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\n\nimport MapContainer from '../Maps/MapContainer';\n\nclass Home extends Component {\n    constructor(props){\n        super(props);\n        this.state = {  \n            nodes : [],\n            redirectVar: null\n        }\n         this.deletenode = this.deletenode.bind(this); \n    }  \n    //get the nodes data from backend  \n    componentDidMount(){\n        axios.get('http://localhost:3001/home')\n                .then((response) => {\n                //update the state with the response data\n                this.setState({\n                    nodes : this.state.nodes.concat(response.data),\n                    redirectVar : <Redirect to= \"/home\"/> \n                });\n            });\n    }\n\n\n    deletenode = (id,e) => {\n        //prevent page from refresh\n        e.preventDefault();   \n        console.log(id);\n        //make a post request with the user data\n        var url = 'http://localhost:3001/delete/'\n        var requesturl = url + id;\n        axios.delete(requesturl)\n            .then(response => {\n                console.log(\"Status Code : \",response.status);  \n                // console.log(\"Data: \" + response.data);\n                //  this.setState({\n                //      redirectVar : <Redirect to=\"/home\"/>\n                //  })          \n                  window.location = \"/home\"; \n            });         \n    }\n\n\n    render(){\n        //iterate over nodes to create a table row\n        let details = this.state.nodes.map(node => {\n            return(\n                <tr>\n                    <td>{node.nodeid}</td>\n                    <td>{node.node_status}</td>\n                    <td>{node.lat}</td> \n                    <td>{node.long}</td>\n                    <td>{node.no_sensors}</td>\n                    <td>{node.clusterid}</td> \n                    <td>{node.installation_date}</td>\n                    <td><Link to={`/addsensor/${node.nodeid}`} className = \"btn btn-success\">Add Sensors</Link></td> \n                    <td><Link to={`/sensorhome/${node.nodeid}`} className = \"btn btn-info\">View Sensor List</Link></td> \n                    <td><Link to={`/updatenode/${node.nodeid}`} className = \"btn btn-warning\">Update Smart Node</Link></td> \n                    <td><button className = \"btn btn-danger\" onClick={this.deletenode.bind(this,node.nodeid)} value={node.nodeid}>Delete Node</button></td> \n                    \n\n                </tr>\n            )\n        })\n        //if not logged in go to login page\n        let redirectVar = null;\n        // if(!cookie.load('cookie')){\n        //     redirectVar = <Redirect to= \"/login\"/>\n        // }\n        return(\n            <div>\n                {this.state.redirectVar}\n                <h3><center>Sensor Station Dashboard</center></h3>\n                <div className=\"container map-container col\">\n                {/* <MapContainer/>  */}\n                </div>\n                <div className=\"container table-container\">\n                    \n                    <hr></hr>\n                        <table className=\"table table-striped\">\n                            <thead>\n                                <tr>\n                                    <th>Node ID</th>\n                                    <th>Node Status</th>\n                                    <th>Latitude</th>\n                                    <th>Longitude</th>\n                                    <th>No of Sensors</th>\n                                    <th>Cluster ID</th>\n                                    <th>Installed On</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/*Display the Tbale row based on data recieved*/}\n                                {details}\n                            </tbody>\n                        </table>\n                </div> \n            </div> \n        )\n    }\n}\n//export Home Component\nexport default Home;"]},"metadata":{},"sourceType":"module"}