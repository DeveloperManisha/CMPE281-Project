{"ast":null,"code":"import _classCallCheck from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router'; //Define a Login Component\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  //call the constructor method\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    //Call the constrictor of Super class i.e The Component\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props)); //maintain the state required for this component\n\n    _this.usernameChangeHandler = function (e) {\n      _this.setState({\n        username: e.target.value\n      });\n    };\n\n    _this.passwordChangeHandler = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.submitLogin = function (e) {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      var data = {\n        username: _this.state.username,\n        password: _this.state.password //set the with credentials to true\n\n      };\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post('http://localhost:3001/login', data).then(function (response) {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          _this.setState({\n            authFlag: true\n          });\n        } else {\n          _this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      authFlag: false //Bind the handlers to this class\n\n    };\n    _this.usernameChangeHandler = _this.usernameChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.passwordChangeHandler = _this.passwordChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitLogin = _this.submitLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } //Call the Will Mount to set the auth Flag to false\n\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        authFlag: false\n      });\n    } //username change handler to update state variable with the text entered by the user\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      //redirect based on successful login\n      var redirectVar = null;\n\n      if (cookie.load('cookie')) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/create\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, redirectVar, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Admin Login\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Please enter your username and password\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.usernameChangeHandler,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"username\",\n        placeholder: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.passwordChangeHandler,\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.submitLogin,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Login\")))));\n    }\n  }]);\n\n  return Login;\n}(Component); //export Login Component\n\n\nexport default Login;","map":{"version":3,"sources":["/Users/manishashivshette/Documents/ManishaStudies/CMPE281/CMPE281-Project/src/components/Login/Login.js"],"names":["React","Component","axios","cookie","Redirect","Login","props","usernameChangeHandler","e","setState","username","target","value","passwordChangeHandler","password","submitLogin","headers","Headers","preventDefault","data","state","defaults","withCredentials","post","then","response","console","log","status","authFlag","bind","redirectVar","load"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport {Redirect} from 'react-router';\n\n//Define a Login Component\nclass Login extends Component{\n    //call the constructor method\n    constructor(props){\n        //Call the constrictor of Super class i.e The Component\n        super(props);\n        //maintain the state required for this component\n        this.state = {\n            username : \"\",\n            password : \"\",\n            authFlag : false\n        }\n        //Bind the handlers to this class\n        this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\n        this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\n        this.submitLogin = this.submitLogin.bind(this);\n    }\n    //Call the Will Mount to set the auth Flag to false\n    componentWillMount(){\n        this.setState({\n            authFlag : false\n        })\n    }\n    //username change handler to update state variable with the text entered by the user\n    usernameChangeHandler = (e) => {\n        this.setState({\n            username : e.target.value\n        })\n    }\n    //password change handler to update state variable with the text entered by the user\n    passwordChangeHandler = (e) => {\n        this.setState({\n            password : e.target.value\n        })\n    }\n    //submit Login handler to send a request to the node backend\n    submitLogin = (e) => {\n        var headers = new Headers();\n        //prevent page from refresh\n        e.preventDefault();\n        const data = {\n            username : this.state.username,\n            password : this.state.password\n        }\n        //set the with credentials to true\n        axios.defaults.withCredentials = true;\n        //make a post request with the user data\n        axios.post('http://localhost:3001/login',data)\n            .then(response => {\n                console.log(\"Status Code : \",response.status);\n                if(response.status === 200){\n                    this.setState({\n                        authFlag : true\n                    })\n                }else{\n                    this.setState({\n                        authFlag : false\n                    })\n                }\n            });\n    }\n\n    render(){\n        //redirect based on successful login\n        let redirectVar = null;\n        if(cookie.load('cookie')){\n            redirectVar = <Redirect to= \"/create\"/>\n        }\n        return(\n            <div>\n                {redirectVar}\n            <div className=\"container\">\n                \n                <div className=\"login-form\">\n                    <div className=\"main-div\">\n                        <div className=\"panel\">\n                            <h2>Admin Login</h2>\n                            <p>Please enter your username and password</p>\n                        </div>\n                        \n                            <div className=\"form-group\">\n                                <input onChange = {this.usernameChangeHandler} type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"Username\"/>\n                            </div>\n                            <div className=\"form-group\">\n                                <input onChange = {this.passwordChangeHandler} type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Password\"/>\n                            </div>\n                            <button onClick = {this.submitLogin} className=\"btn btn-primary\">Login</button>                 \n                    </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n//export Login Component\nexport default Login;"]},"metadata":{},"sourceType":"module"}